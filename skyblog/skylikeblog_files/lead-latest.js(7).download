!function(){"use strict";
var n=function(){return(n=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}).apply(this,arguments)};function t(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function e(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,i,a=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(n){i={error:n}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return o}function r(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(e(arguments[t]));return n}var i=window,a=i.document,o=i.navigator,u=i.screen;function l(){return{u:function(){var n=i.location.href,t=n.split("#");t.length>=2&&0==t[1].indexOf("lead:")&&history.pushState("",a.title,i.location.pathname+i.location.search);return n}(),r:a.referrer||void 0,l:o.language,t:-(new Date).getTimezoneOffset(),w:u.width,h:u.height,c:u.colorDepth,p:i.devicePixelRatio}}function c(n,t,e,r,i){void 0===r&&(r=void 0),void 0===i&&(i="/");var o=n+"="+encodeURIComponent(t)+";max-age="+60*e+";path="+i;r&&(o=o+";domain="+r),a.cookie=o}function f(n){var t;return decodeURIComponent((null===(t=a.cookie.match("(^|;)\\s*"+n+"\\s*=\\s*([^;]+)"))||void 0===t?void 0:t.pop())||"")}function d(){return i.location.href}function v(n){console.error(n)}function s(n,t,e){i.addEventListener(n,t,e)}function p(n,t){a.addEventListener(n,t)}function h(){return"IntersectionObserver"in i&&"IntersectionObserverEntry"in i&&"isIntersecting"in i.IntersectionObserverEntry.prototype}var y=i.IntersectionObserver;function m(n){return new y((function(e,r){var i,a;try{for(var o=t(e),u=o.next();!u.done;u=o.next()){var l=u.value;n(l,r)}}catch(n){i={error:n}}finally{try{u&&!u.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}}))}function g(n,t,e,r){var i=a.head.querySelector(n+"["+t+'="'+e+'"]');return null==i?null:i.getAttribute(r)}function w(n,t){return n.getAttribute("data-"+t)}var b,x="https://connect.thelead.tech",k="",I=x;function O(){return k}function E(){return b}function S(n){return I+n}var z,C,N,q=JSON.stringify,T=JSON.parse,j="ka_seg";function _(){if(!C){var n=f(j);if(n)try{C=T(n)}catch(n){}}}var H=((N={}).s=function(n){n[1]&&(t=n[1],t.c&&(z=t.c),t.s&&(C=t.s,c(j,q(C),60,E())));var t},N);var L="POST";function R(n,t,e,r,i){void 0===r&&(r="GET"),void 0===i&&(i=void 0);try{var a=new XMLHttpRequest;a.onreadystatechange=function(){try{if(4!=this.readyState)return;if(200!=this.status)return void n({status:this.status});n({status:this.status,data:T(this.responseText)})}catch(n){t(n)}},a.open(r,e,!0),r==L?a.send(q(null!=i?i:{})):a.send()}catch(n){t(n)}}var D=function(){};function U(n){var t,e=null!==(t=w(n,"type"))&&void 0!==t?t:"related";switch(e){case"related":!function(n){var t,e,r,i=O(),a=Y(),o=null!==(t=w(n,A))&&void 0!==t?t:F,u=null!==(e=w(n,B))&&void 0!==e?e:"",l=parseInt(null!==(r=w(n,J))&&void 0!==r?r:K),c=w(n,M);Q(n,"/personalize/related-query",{project_id:i,url:a,ingredient:u,size:l},o,c,(function(n,t){return"#lead:related:"+n+":"+t+":"+a}))}(n);break;case"popular":!function(n){var t,e,r,i,a=O(),o=Y(),u=null!==(t=w(n,A))&&void 0!==t?t:F,l=null!==(e=w(n,B))&&void 0!==e?e:"",c=parseInt(null!==(r=w(n,P))&&void 0!==r?r:X),f=parseInt(null!==(i=w(n,J))&&void 0!==i?i:K),d=w(n,M);Q(n,"/personalize/popular-query",{project_id:a,url:o,ingredient:l,duration:c,size:f},u,d,(function(n,t){return"#lead:popular:"+n+":"+t+":"+o}))}(n);break;case"newpages":!function(n){var t,e,r,i,a=O(),o=Y(),u=null!==(t=w(n,A))&&void 0!==t?t:F,l=null!==(e=w(n,B))&&void 0!==e?e:G,c=parseInt(null!==(r=w(n,P))&&void 0!==r?r:X),f=parseInt(null!==(i=w(n,J))&&void 0!==i?i:K),d=w(n,M);Q(n,"/personalize/newpages-query",{project_id:a,url:o,ingredient:l,duration:c,size:f},u,d,(function(n,t){return"#lead:newpages:"+n+":"+t+":"+o}))}(n);break;default:v("unknown widget type '"+e+"'")}}var A="css-prefix",B="ingredient",P="duration",J="size",M="target",F="lead-widget-",G="",X="60",K="10";function Q(n,t,e,r,i,o){R((function(t){if(200==t.status){var e=t.data;if("ok"==e.status){var u=e.data;if(null!=u){var l=u.query_id,c=u.items;if(null!=l&&null!=c){var f=a.createElement("div");for(var d in f.className=r+"container",c){var v=c[d],s=a.createElement("div");s.className=r+"item-container";var p=a.createElement("a");null!=i&&(p.target=i),p.className=r+"link",p.href=v.url+o(l,d);var h=a.createElement("img");h.className=r+"item-image",h.src=v.image_url;var y=a.createElement("div");y.className=r+"item-title",y.innerText=v.title,p.appendChild(h),p.appendChild(y),s.appendChild(p),f.appendChild(s)}n.appendChild(f)}}}}}),v,S(t),L,e)}var V,W=[["meta","name","lead:url","content"],["meta","property","lead:url","content"],["meta","name","og:url","content"],["meta","property","og:url","content"],["link","rel","canonical","href"]];function Y(){var n;return null==V&&(V=null!==(n=function(n){var e,r;try{for(var i=t(n),a=i.next();!a.done;a=i.next()){var o=a.value,u=g(o[0],o[1],o[2],o[3]);if(null!=u)return u}}catch(n){e={error:n}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return null}(W))&&void 0!==n?n:d()),V}var Z,$="ka_iid",nn="ka_sid",tn={};function en(n,t){var e=on(n,t);R((function(n){200==n.status&&un(n.data)}),v,S("/event/post"),L,e)}function rn(n,t){var e,r;e=S("/event/beacon"),void 0===(r=on(n,t))&&(r=void 0),null==o.sendBeacon?R(D,D,e,L,r):o.sendBeacon(e,q(null!=r?r:{}))}function an(){return null==Z&&(Z=l()),Z}function on(t,e){ln();var r=an();return n(n(n(n({},r),tn),e),{eid:t})}function un(n){var t=null==n?void 0:n.iid;t&&(c($,t,2628e3,E()),tn.iid=t);var e=null==n?void 0:n.sid;e&&(cn(e,E()),tn.sid=e)}function ln(){var n=f(nn);null!=n&&(cn(n,E()),tn.sid=n)}function cn(n,t){c(nn,n,30,t)}var fn,dn,vn=1e3;function sn(n,t){return void 0!==n[t]}sn(a,"hidden")?(fn="hidden",dn="visibilitychange"):sn(a,"mozHidden")?(fn="mozHidden",dn="mozvisibilitychange"):sn(a,"msHidden")?(fn="msHidden",dn="msvisibilitychange"):sn(a,"webkitHidden")&&(fn="webkitHidden",dn="webkitvisibilitychange");var pn=sn(i,"performance")?function(){return performance.now()}:function(){return Date.now()};function hn(n){n.i||(n.i=!0,n.v+=pn()-n.s)}function yn(n){n.u=0,n.i&&n.o&&function(n){n.i=!1,n.s=pn()}(n)}function mn(n){n.o=!0,yn(n)}function gn(n){n.o=!1,hn(n)}var wn;function bn(n,t,e,r){n.trackingData={eid:e,d:r,t:t},function(n){(function(){null==wn&&(wn=m((function(n,t){var e=n.target,r=e.trackingData;null!=r&&(n.isIntersecting?r.h=setTimeout((function(){t.unobserve(e),en(r.eid,r.d)}),r.t*vn):null!=r.h&&clearTimeout(r.h))})));return wn})().observe(n)}(n)}function xn(n){var t=w(n,"event-id");if(null!=t){var e=function(n,t,e){var r=w(n,t);if(null==r)return null;var i=e(r);return isNaN(i)?null:i}(n,"duration",parseFloat)||1,r={},i=w(n,"string1");null!=i&&(r.cs1=i);var a=w(n,"string2");null!=a&&(r.cs2=a),bn(n,e,t,r)}}var kn;function In(n,t,e){var r,i,a,o=function(n,t){return new URL(n,t).href}(n,t);(r=t,i=new URL(o),a=new URL(r),i.host!=a.host||i.pathname!=a.pathname)&&rn("navigate",{ps1:o,cs1:null==e?void 0:e.string1,cs2:null==e?void 0:e.string2})}var On,En,Sn,zn,Cn,Nn,qn,Tn,jn,_n=a.currentScript,Hn=null!==(kn=i.leadAutoUpdate)&&void 0!==kn?kn:_n;if(null!=_n&&function(n){var t,e;if(""!=k)return!1;var r=w(n,"project-id");return null!=r&&(k=r,b=null!==(t=w(n,"domain"))&&void 0!==t?t:void 0,I=null!==(e=w(n,"base"))&&void 0!==e?e:x,!0)}(Hn)){var Ln=function(){var n=i.lead;if(null==n){var t=function(){t.q.push(arguments)};return t.q=[],i.lead=t,t}return n}();!function(n,t){var e=f($);tn={pid:n,iid:e,v:t}}(O(),"0.7.7"),jn=d(),s("click",(function(n){var t=function(n){for(;null!=n;){if(null!=n.href)return n;n=n.parentElement}return null}(n.target);if(null!=t){var e=t.href;0!=t.href.indexOf("javascript:")&&In(e,jn,t.dataset)}}),!0),function(n,t){n.open=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var a=t.call.apply(t,r([n],e));return null!=a&&In(e[0],jn),a}}(i,i.open),Nn=pn(),qn={i:!1,o:!0,u:0,v:0,r:Nn,s:Nn},p(dn,(function(){a[fn]?gn(qn):mn(qn)})),s("blur",(function(){gn(qn)})),s("focus",(function(){mn(qn)})),p("mousemove",(function(){yn(qn)})),p("keyup",(function(){yn(qn)})),p("touchstart",(function(){yn(qn)})),s("scroll",(function(){yn(qn)})),setInterval((function(){qn.i||(qn.u+=250,qn.u>1e4&&hn(qn))}),250),Tn=qn,s("unload",(function(n){var t=function(n){var t=pn(),e=t-n.r;return n.i?[n.v,e]:[n.v+t-n.s,e]}(Tn);rn("activetime",{pn1:t[0]/vn,pn2:t[1]/vn})})),Sn=function(){!function(){var n,e,r,i,o=Array.from(a.getElementsByClassName("lead-widget"));if(h()){var u=m((function(n,t){n.isIntersecting&&(t.unobserve(n.target),U(n.target))}));try{for(var l=t(o),c=l.next();!c.done;c=l.next()){var f=c.value;u.observe(f)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(e=l.return)&&e.call(l)}finally{if(n)throw n.error}}}else try{for(var d=t(o),v=d.next();!v.done;v=d.next())U(f=v.value)}catch(n){r={error:n}}finally{try{v&&!v.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}(),function(){var n,e;if(h()){var r=Array.from(a.getElementsByClassName("lead-tracker"));try{for(var i=t(r),o=i.next();!o.done;o=i.next())xn(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(n)throw n.error}}}}()},zn=!1,s("load",Cn=function(){zn||(zn=!0,Sn())}),p("DOMContentLoaded",Cn),Ln.send=en,Ln.getSegments=function(){return _(),null!=C?C:[]},Ln.getContentTaxonomy=function(){return null!=z?z:[]};var Rn="";_(),null!=C&&(Rn+="s"),function(t,e){var r=function(t){ln();var e=an();return n(n(n({},e),tn),{cs:t})}(t);R((function(n){var t;200==n.status?(un(n.data),e&&e(null===(t=n.data)||void 0===t?void 0:t.response)):e&&e()}),(function(n){v(n),e&&e()}),S("/event/bulk"),L,r)}([function(n){return["s",n]}(Rn),(On="pageview",["e",n(n({},En),{eid:On})])],(function(n){n&&function(n){var e,r;try{for(var i=t(n),a=i.next();!a.done;a=i.next()){var o=a.value,u=H[o[0]];u&&u(o)}}catch(n){e={error:n}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}(n),function(n){var e,a,o=i.lead;if(null!=o)try{for(var u=t(o.q),l=u.next();!l.done;l=u.next())n(r(l.value))}catch(n){e={error:n}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(e)throw e.error}}}((function(n){var t=n[0],e=typeof t;"string"==e||"function"==e&&t.apply(void 0,r(n.slice(1)))}))}))}}();
